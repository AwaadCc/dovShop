{"version":3,"file":"src_app_tab2_tab2_module_ts.js","mappings":"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","sources":["./src/app/serve.service.ts","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { StorageItem } from './shared/storage-item';\nimport { OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServeService {\n  addList: StorageItem[];\n  sourceList: StorageItem[];\n  arr: StorageItem[] = [];\n  constructor(private storage: Storage,\n    private http:HttpClient) { this.init(); }\n\n  async init() {\n    this.storage.create();\n  }\n\n  addedItems(data) {\n    return this.addedItems=data;\n  }\n\n  getsourcelist() {\n    return this.sourceList\n  }\n\n  getSourceData(str) {\n    return this.http.get(str);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\n\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule,\n \n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { Component, ElementRef, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { IonModal, LoadingController } from '@ionic/angular';\nimport { v4 as uuidv4 } from 'uuid';\nimport { StorageItem } from '../shared/storage-item';\nimport { ServeService } from '../serve.service';\nimport { AlertController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { OverlayEventDetail } from '@ionic/core/components';\nimport { InAppBrowser } from '@awesome-cordova-plugins/in-app-browser/ngx';\n\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  @ViewChild(IonModal) modal: IonModal;\n  message = 'This modal example uses triggers to automatically open a modal when the button is clicked.';\n  name: string;\n  isModalOpen = false;\n  isModalOpen2 = false;\n  arr: StorageItem[] = [];\n  state: any;\n  alertData: string;\n  sourceList: StorageItem[];\n  addList: StorageItem[];\n  emptyItem: StorageItem;\n  urlList: string[] = [];\n  list: any;\n  deflist: string[] = [];\n  constructor(private storage: Storage,\n    private alertController: AlertController,\n    private http:HttpClient, \n    private serve: ServeService,\n    private loadingCtrl: LoadingController,\n    private iab:InAppBrowser) {  }\n\n  ngOnInit() {\n  }\n\n  async ionViewDidEnter() {\n    this.loadData();\n    this.getDefSource();\n  }\n\n  async ionViewDidLeave() {\n    this.sourceList = [];\n  }\n\n  \n  async showLoading() {\n    const loading = await this.loadingCtrl.create({\n      message: 'Installing Source...',\n      duration: 1000,\n      spinner: 'circles'\n    });\n    setTimeout(() => {\n      this.loadData();\n    }, 1000)\n    loading.present();\n  }\n\n  async showLoading2(i: any) {\n    const loading = await this.loadingCtrl.create({\n      message: 'Removing Sources...',\n      duration: 1000,\n      spinner: 'circles'\n    });\n    \n    loading.present();\n    setTimeout(() => {\n      this.removeItem(i);\n      // window.location.reload();\n    }, 1000)\n\n  }\n\n  openModal(i: any) {\n    this.setOpen(true);\n    this.list = this.sourceList[i].packages;\n    //console.log(this.list);\n  }\n\n  setOpen(isOpen: boolean) {\n    this.isModalOpen = isOpen;\n  }\n\n  setOpen2(isOpen: boolean) {\n    this.isModalOpen2 = isOpen;\n  }\n\n  getSourceData() {\n    return this.http.get(this.alertData);\n  }\n\n  onWillDismiss(event: Event) {\n    const ev = event as CustomEvent<OverlayEventDetail<string>>;\n    if (ev.detail.role === 'confirm') {\n      this.message = `Hello`;\n    }\n  }\n\n  getDefSource() {\n    this.serve.getSourceData('https://awaadcc.github.io/dovshop/home.json').subscribe(data => {\n      this.deflist = data['topapps'];\n      //console.log(this.deflist)\n    })\n  }\n\n  removeItem(i: any) {\n    //this.storage.remove('source');\n    //this.sourceList = null;\n    this.sourceList.splice(i, 1);\n    this.storage.set('source', this.sourceList);\n    this.urlList.splice(i, 1);\n    this.storage.set('url', this.urlList);\n\n  }\n\n  getData(str) {\n    this.loadData();\n    this.serve.getSourceData(str).subscribe(data => {\n      this.addList = data['sources'];\n     \n      //console.log(this.addList);\n      const item = <StorageItem>this.addList[0];\n      console.log(\"this.arr after push call\");\n       this.arr.push(item);\n      console.log(this.arr);\n      this.storage.set('source', this.arr);\n    })\n  }\n\n  loadData() {\n    this.storage.get('source').then(res => {\n      if(!res) {\n        this.sourceList = [];\n        this.arr = [];\n      } else {\n        this.sourceList = res;\n        this.arr = res;\n        console.log(\"this.arr after load data call\");\n        console.log(this.arr);\n      }\n    })\n  }\n\n  async addSource() {\n    const alert = await this.alertController.create({\n      header: 'Add Source',\n      subHeader: 'Enter dovShop Package URL',\n      buttons: [{\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n                console.log('Confirm Cancel');\n            }\n        }, \n        {\n            text: 'Ok',\n            handler: (aData) => { //takes the data \n                this.alertData = aData.source;\n                this.getData(this.alertData);\n                this.showLoading();\n                this.urlList.push(this.alertData);\n                this.storage.set('url', this.urlList);\n            }\n        }],\n      inputs: [\n        {\n          type: 'url',\n          name: 'source',\n          value: 'https://'\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  openBrowser(url) {\n    const browser = this.iab.create(url, '_blank', 'location=yes,toolbarposition=top,toolbartranslucent=no');\n  }\n\n}\n"],"names":["Injectable","Storage","HttpClient","ServeService","constructor","storage","http","init","create","addedItems","data","getsourcelist","sourceList","getSourceData","str","get","providedIn","Component","ViewChild","IonModal","LoadingController","AlertController","InAppBrowser","Tab2Page","alertController","serve","loadingCtrl","iab","ngOnInit","ionViewDidEnter","loadData","getDefSource","ionViewDidLeave","showLoading","loading","message","duration","spinner","setTimeout","present","showLoading2","i","removeItem","openModal","setOpen","list","packages","isOpen","isModalOpen","setOpen2","isModalOpen2","alertData","onWillDismiss","event","ev","detail","role","subscribe","deflist","splice","set","urlList","getData","addList","item","console","log","arr","push","then","res","addSource","alert","header","subHeader","buttons","text","cssClass","handler","aData","source","inputs","type","name","value","openBrowser","url","browser","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}