{"version":3,"file":"src_app_tab3_tab3_module_ts.js","mappings":"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","sources":["./src/app/serve.service.ts","./src/app/tab3/tab3-routing.module.ts","./src/app/tab3/tab3.module.ts","./src/app/tab3/tab3.page.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { StorageItem } from './shared/storage-item';\nimport { OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServeService {\n  addList: StorageItem[];\n  sourceList: StorageItem[];\n  arr: StorageItem[] = [];\n  constructor(private storage: Storage,\n    private http:HttpClient) { this.init(); }\n\n  async init() {\n    this.storage.create();\n  }\n\n  addedItems(data) {\n    return this.addedItems=data;\n  }\n\n  getsourcelist() {\n    return this.sourceList\n  }\n\n  getSourceData(str) {\n    console.log(\"getSourceData call made\");\n    return this.http.get(str);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\n    Tab3PageRoutingModule,\n  ],\n  declarations: [Tab3Page]\n})\nexport class Tab3PageModule {}\n","import { Component } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { StorageItem } from '../shared/storage-item';\nimport { ServeService } from '../serve.service';\nimport { LoadingController, AlertController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Tab2Page } from '../tab2/tab2.page';\nimport { OverlayEventDetail } from '@ionic/core/components';\n\n\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss']\n})\nexport class Tab3Page {\n  alist: StorageItem[];\n  clist: StorageItem[] = [];\n  flist: string[] = [];\n  imgList: string[] = [];\n  toplist: string[] = [];\n  tempa: StorageItem[] = [];\n  tempa2: string[] = [];\n  arr: StorageItem[] = [];\n  image: string;\n  name: \"image\";\n  urlList: string[] = [];\n  constructor(private storage: Storage, \n   private serve: ServeService, \n    private loadingCtrl:LoadingController, \n    private alertController:AlertController,\n    private http:HttpClient) {}\n\n  async ngOnInit() {}\n\n  getData() {\n    this.storage.get('url').then(res => {\n      this.urlList = res;\n      // console.log(this.urlList);\n    });\n    this.storage.get('source').then(res => {\n      this.alist = res;\n      if(!this.alist) {\n\n      } else {\n          for(let i = 0; i<this.alist.length; i++) {\n            this.clist.push(this.alist[i]);\n            this.imgList.push(this.clist[i].image);\n            this.toplist.push(this.clist[i].changelog[1]);\n            this.flist.push(this.clist[i].changelog[0]);\n          }\n          for(let i = 0; i<this.clist.length; i++) {\n            for(let j = 2; j<this.clist[i].changelog.length; j++) {\n              this.flist.push(this.clist[i].changelog[j]);\n              //console.log(this.imgList);\n            }\n          for(let i = 0; i<this.clist.length; i++) {\n            for(let j = 2; j<this.clist[i].changelog.length; j++)\n              this.imgList.push(this.clist[i].changelog[0]);        \n          }\n        }\n      }\n    })\n  }\n\n ionViewDidEnter() {\n  this.getData();\n }\n ionViewDidLeave() {\n    this.alist = [];\n    this.clist = [];\n    this.imgList = [];\n    this.toplist = [];\n    this.flist = [];\n }\n\n  isEmpty() {\n    return this.flist.length == 0;\n  }\n\n  async refresh() {\n    const loading = await this.loadingCtrl.create({\n      message: 'Updating Sources',\n      duration: 1000,\n      spinner: 'circles'\n    })\n    loading.present();\n    setTimeout(() => {\n      this.doRefresh();\n      this.doneRefresh();\n    }, 1500)\n  }\n\n  doRefresh() {\n    //TODO: MAKE doRefresh()  SO DATA IS RETRIEVED FROM URL(S) AGAIN\n    //      IN ORDER TO INPLEMENT REALTIME SOURCE REFRESH\n    this.storage.remove('source');\n    //window.location.reload();\n    console.log(this.urlList);\n\n    this.alist = [];\n    this.clist = [];\n    this.imgList = [];\n    this.toplist = [];\n    this.flist = [];\n    this.arr = [];\n    for(let i = 0; i<this.urlList.length; i++) {\n      this.serve.getSourceData(this.urlList[i]).subscribe(data => {\n        this.clist = data['sources'];\n        console.log(this.clist);\n        const item = <StorageItem>this.clist[0];\n        this.arr.push(item);\n        console.log(this.arr);\n        this.storage.set('source', this.arr);\n      })\n    }\n\n    setTimeout(() => {\n          this.getData();\n        }, 1000)\n\n\n  }\n\n  async doneRefresh() {\n    const alert = await this.alertController.create({\n      subHeader: 'Sources have been updated',\n      buttons: [{\n            text: 'Ok',\n            handler: () => {\n                console.log('Confirm Ok');\n            }\n        }]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"names":["Injectable","Storage","HttpClient","ServeService","constructor","storage","http","init","create","addedItems","data","getsourcelist","sourceList","getSourceData","str","console","log","get","providedIn","Component","LoadingController","AlertController","Tab3Page","serve","loadingCtrl","alertController","ngOnInit","getData","then","res","urlList","alist","i","length","clist","push","imgList","image","toplist","changelog","flist","j","ionViewDidEnter","ionViewDidLeave","isEmpty","refresh","loading","message","duration","spinner","present","setTimeout","doRefresh","doneRefresh","remove","arr","subscribe","item","set","alert","subHeader","buttons","text","handler","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}